(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F=[].slice,G=function(a,b){function c(){this.constructor=a}for(var d in b)H.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},H={}.hasOwnProperty,I=function(a,b){return function(){return a.apply(b,arguments)}};q=function(){function a(b){return a._validatePath(b)?new B(b):_printError("Namespace('"+b+"'), '"+b+"' is invalid.")}return a._spaces={},a._separator=".",a._defaultScope=window,a._regSeparator=null!==a._separator.match(/[\[\]\-^$.+*?{}\\]/)?"\\"+a._separator:a._separator,a._regPath=new RegExp("^[0-9a-zA-Z]+("+a._regSeparator+"[0-9a-zA-Z]+)*$"),a._getSpace=function(b){return a._spaces[b]},a._setSpace=function(b){var c;return null!=(c=a._spaces)[b]?c[b]:c[b]={}},a._existSpace=function(b){return null!=a._spaces[b]},a._validatePath=function(b){return null!=b&&a._regPath.test(b)},a._print=function(a){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(a):void 0},a._printError=function(b,c){return a._print("###ERROR### at "+b+" : "+c)},a.enumerate=function(){return a._print(a._spaces)},a}(),B=function(){function a(a){this._path=a,this._names=this._path.split(q._separator),this._space=q._getSpace(this._path),this._scope=q._defaultScope}return a.prototype.register=function(a,b,c){return null==c&&(c=!1),null==a||null==b?(q._printError("Namespace('"+this._path+"').register","one of arguments is not defined"),this):(this._allocate(),c||null==this._space[a]?(this._space[a]=b,this):(q._printError("Namespace('"+this._path+"').register","'"+a+"' is already registered."),this))},a.prototype["import"]=function(a){var b,c,d,e,f;if(null==a&&(a="*"),this._allocate(),"*"===a){f=this._space;for(c in f)e=f[c],this._extern(c);return this}if(a instanceof Array){for(b=0,d=a.length;d>b;b++)c=a[b],this._extern(c);return this}return null!=this._space[a]?(this._extern(a),this):(q._printError("Namespace('"+this._path+"').import","'"+a+"' is not defined"),this)},a.prototype.exist=function(){return q._existSpace(this._path)},a.prototype.use=function(){var a,b,c,d,e,f,g,h;for(this._allocate(),e=this._scope,g=this._names,a=0,c=g.length;c>a;a++)d=g[a],e=null!=e[d]?e[d]:e[d]={};h=this._space;for(b in h)f=h[b],e[b]=f;return this},a.prototype.scope=function(a){return null==a&&(a=q._defaultScope),this._scope=a,this},a.prototype.getPath=function(){return this._path},a.prototype._allocate=function(){var a,b,c;if(!q._existSpace(this._path)){for(this._space=q._setSpace(this._path),b=this._names.length,a=1,c=[];b>a;)q._setSpace(this._names.slice(0,a).join(".")),c.push(++a);return c}},a.prototype._extern=function(a){return this._scope[a]=this._space[a]},a}(),q("jpp.util").register("Namespace",q).use(),w=function(){function a(){}return a._spaces={},a.bind=function(a,b){var c;return null==(c=this._spaces)[a]&&(c[a]={}),b.call(this._spaces[a])},a.clear=function(a){return delete this._spaces[a]},a.temp=function(a){return a.call({})},a}(),q("jpp.util").register("Scope",w).use(),h=function(){function a(){}return a.build=function(a,b){return null==b&&(b=""),new Error("Error at "+a+(""!==b?" : "+b:void 0))},a["throw"]=function(b,c){throw null==c&&(c=""),a.build(b,c)},a}(),q("jpp.util").register("Err",h).use(),r=function(){function a(){}return a.PI=Math.PI,a.PI2=2*a.PI,a.PI_2=a.PI/2,a.PI_3=a.PI/3,a.PI_4=a.PI/4,a.PI_6=a.PI/6,a.toRadian=function(a){return a*PI/180},a.toDegree=function(a){return 180*a/PI},a.dist=function(a,b,c){return null==c&&(c=!0),c?Math.sqrt(a*a+b*b):a*a+b*b},a.dist2=function(a,b,c,d,e){return null==e&&(e=!0),dist(c-a,d-b,e)},a.map=function(a,b,c,d,e){return b>a&&(a=b),a>c&&(a=c),(a-b)*(e-d)/(c-b)+d},a.internallyDividing=function(a,b,c,d){return a===b?a:(d*a+c*b)/(c+d)},a.externallyDividing=function(a,b,c,d){return a===b?a:(d*a-c*b)/(d-c)},a.sign=function(a){var b;return null!=(b=0>a)?b:-{1:1}},a.choose=function(){var a;return a=1<=arguments.length?F.call(arguments,0):[],a[Math.floor(Math.random()*a.length)]},a.combine=function(a,b,c,d){var e;return null==d&&(d=null),c>1?null==d&&(d=1):null==d&&(d=1-c),e=c+d,a*c/e+b*(1-c/e)},a.range=function(a,b){return Math.random()*(b-a)+a},a}(),q("jpp.util").register("Num",r).use(),a=function(){function a(){}return a.sequence=function(a,b,c){var d,e;for(null==b&&(b=0),null==c&&(c=1),d=[],e=0;a>e;)d[e]=e*c,++e;return d},a.choose=function(a,b){var c;return null==b&&(b=!1),c=Math.floor(Math.random()*a.length),b?a.splice(c,1)[0]:a[c]},a.shuffle=function(a,b){var c,d,e,f;for(null==b&&(b=!1),b&&(a=a.concat()),c=d=a.length;c--;)e=Math.floor(Math.random()*c),f=a[c],a[c]=a[e],a[e]=f;return a},a.clone=function(a){return a.concat()},a}(),q("jpp.util").register("Arr",a).use(),s=function(){function a(){}return a.clone=function(a){var b,c,d;b={};for(c in a)d=a[c],b[c]=d;return b},a}(),q("jpp.util").register("Obj",s).use(),g=function(){function a(){}return a.Linear=function(a,b,c,d,e){return d*b/e+c},a.easeInQuad=function(a,b,c,d,e){return d*(b/=e)*b+c},a.easeOutQuad=function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},a.easeInOutQuad=function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},a.easeInCubic=function(a,b,c,d,e){return d*(b/=e)*b*b+c},a.easeOutCubic=function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},a.easeInOutCubic=function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},a.easeInQuart=function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},a.easeOutQuart=function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},a.easeInOutQuart=function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},a.easeInQuint=function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},a.easeOutQuint=function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},a.easeInOutQuint=function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},a.easeInSine=function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},a.easeOutSine=function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},a.easeInOutSine=function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},a.easeInExpo=function(a,b,c,d,e){return 0===b?c:d*Math.pow(2,10*(b/e-1))+c},a.easeOutExpo=function(a,b,c,d,e){return b===e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},a.easeInOutExpo=function(a,b,c,d,e){return 0===b?c:b===e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},a.easeInCirc=function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},a.easeOutCirc=function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},a.easeInOutCirc=function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},a.easeInElastic=function(a,b,c,d,e){var f,g,h;return h=1.70158,g=0,f=d,0===b?c:1===(b/=e)?c+d:(0===g&&(g=.3*e),f<Math.abs(d)?(f=d,h=g/4):h=g/(2*Math.PI)*Math.asin(d/f),-f*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-h)*Math.PI/g)+c)},a.easeOutElastic=function(a,b,c,d,e){var f,g,h;return h=1.70158,g=0,f=d,0===b?c:1===(b/=e)?c+d:(0===g&&(g=.3*e),f<Math.abs(d)?(f=d,h=g/4):h=g/(2*Math.PI)*Math.asin(d/f),f*Math.pow(2,-10*b)*Math.sin(2*(b*e-h)*Math.PI/g)+d+c)},a.easeInOutElastic=function(a,b,c,d,e){var f,g,h;return h=1.70158,g=0,f=d,0===b?c:2===(b/=e/2)?c+d:(0===g&&(g=.3*e*1.5),f<Math.abs(d)?(f=d,h=g/4):h=g/(2*Math.PI)*Math.asin(d/f),1>b?-.5*f*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-h)*Math.PI/g)+c:f*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-h)*Math.PI/g)*.5+d+c)},a.easeInBack=function(a,b,c,d,e,f){return null==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},a.easeOutBack=function(a,b,c,d,e,f){return null==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},a.easeInOutBack=function(a,b,c,d,e,f){return null==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},a.easeInBounce=function(b,c,d,e,f){return e-a.easeOutBounce(b,f-c,0,e,f)+d},a.easeOutBounce=function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},a.easeInOutBounce=function(b,c,d,e,f){return f/2>c?.5*a.easeInBounce(b,2*c,0,e,f)+d:.5*a.easeOutBounce(b,2*c-f,0,e,f)+.5*e+d},a}(),q("jpp.util").register("Easing",g).use(),C=function(){var a,b,c,d,e,f;for(f=1<=arguments.length?F.call(arguments,0):[],b=new x,c=0,d=f.length;d>c;c++)e=f[c],"string"==typeof e?(a=new u(e),b.addCommand(a)):b.addCommand(e);return b.execute()},q("jpp.util").register("require",C).use(),E=function(){var a;return a=1<=arguments.length?F.call(arguments,0):[],"undefined"!=typeof console&&"undefined"!=typeof console.log?console.log(a.join(" ")):void 0},q("jpp.util").register("trace",E).use(),i=function(){function a(a,b,c){this.type=a,this.target=b,this.extra=c}return a.COMPLETE="complete",a.OPEN="open",a.CLOSE="close",a.ERROR="error",a.CANCEL="cancel",a.RESIZE="resize",a.INIT="init",a.CONNECT="connect",a.PROGRESS="progress",a.ADDED="added",a.REMOVED="removed",a.SELECT="select",a.FOCUS="focus",a.RENDER="render",a}(),q("jpp.event").register("Event",i),j=function(){function a(a){null==a&&(a=null),this._target=null!=a?a:this,this._listeners={}}return a.prototype.addEventListener=function(a,b){var c,d,e,f,g;if("function"!=typeof b)return this;for(null==(c=this._listeners)[a]&&(c[a]=[]),g=this._listeners[a],d=0,f=g.length;f>d;d++)if(e=g[d],e===b)return this;return this._listeners[a].push(b),this},a.prototype.removeEventListener=function(a,b){var c,d,e,f,g;if(!this.hasEventListener(a))return this;for(g=this._listeners[a],c=d=0,f=g.length;f>d;c=++d)e=g[c],e===b&&this._listeners[a].splice(c,1);return 0===this._listeners[a].length&&delete this._listeners[a],this},a.prototype.removeAllEventListeners=function(a){return null==a&&(a=""),""===a?this._listeners={}:delete this._listeners[a],this},a.prototype.hasEventListener=function(a){return null!=this._listeners[a]},a.prototype.dispatchEvent=function(a,b){var c,d,e,f,g;if(null==b&&(b=null),!this.hasEventListener(a))return this;for(c=new i(a,this._target,b),g=this._listeners[a],d=0,f=g.length;f>d;d++)e=g[d],e.call(this._target,c);return this},a}(),q("jpp.event").register("EventDispatcher",j),e=function(){function a(){}return a.SLEEPING=0,a.EXECUTING=1,a.INTERRUPTING=2,a}(),q("jpp.command").register("CommandState",e),c=function(a){function b(a,c,d){null==a&&(a=null),null==c&&(c=null),null==d&&(d=null),b.__super__.constructor.call(this),this.setExecuteFunction(a),this.setInterruptFunction(c),this.setDestroyFunction(d),this._state=e.SLEEPING,this._self=this,this._parent=null}return G(b,a),b.prototype.execute=function(){return this._state>e.SLEEPING&&h["throw"]("Command.execute","Command is already executing."),this._state=e.EXECUTING,this.getExecuteFunction().call(this,this),this},b.prototype.interrupt=function(){return this._state===e.EXECUTING&&(this._state=e.INTERRUPTING,this.getInterruptFunction().call(this,this)),this},b.prototype.destroy=function(){return this._state=e.SLEEPING,this.getDestroyFunction().call(this,this),this._parent=null,this.__executeFunction=null,this.__interruptFunction=null,this.__destroyFunction=null,this},b.prototype.notifyComplete=function(){switch(this._state){case e.SLEEPING:return this;case e.EXECUTING:return this.dispatchEvent(i.COMPLETE),this.destroy(),this;case e.INTERRUPTING:return this.dispatchEvent(i.COMPLETE),this.destroy(),this}},b.prototype.getExecuteFunction=function(){var a;return null!=(a=this.__executeFunction)?a:this._executeFunction},b.prototype.setExecuteFunction=function(a){return this.__executeFunction=a,this},b.prototype.getInterruptFunction=function(){var a;return null!=(a=this.__interruptFunction)?a:this._interruptFunction},b.prototype.setInterruptFunction=function(a){return this.__interruptFunction=a,this},b.prototype.getDestroyFunction=function(){var a;return null!=(a=this.__destroyFunction)?a:this._destroyFunction},b.prototype.setDestroyFunction=function(a){return this.__destroyFunction=a,this},b.prototype.getState=function(){return this._state},b.prototype.getSelf=function(){return this._self},b.prototype.getParent=function(){return this._parent},b.prototype.setParent=function(a){return this._parent=a},b.prototype._executeFunction=function(a){return this.notifyComplete()},b.prototype._interruptFunction=function(a){},b.prototype._destroyFunction=function(a){},b}(j),q("jpp.command").register("Command",c),d=function(a){function b(){var a;a=1<=arguments.length?F.call(arguments,0):[],b.__super__.constructor.call(this),this._commands=[],this.addCommand.apply(this,a)}return G(b,a),b.prototype.addCommand=function(){var a;return a=1<=arguments.length?F.call(arguments,0):[],a.length>0&&(this._setParent(a),this._commands=this.getCommands().concat(a)),this},b.prototype.insertCommand=function(){var a,b;return b=arguments[0],a=2<=arguments.length?F.call(arguments,1):[],a.length>0&&(this._setParent(a),Array.prototype.splice.apply(this.getCommands(),[b,0].concat(a))),this},b.prototype.addCommandArray=function(a){return this.addCommand.apply(this,a),this},b.prototype.insertCommandArray=function(a,b){return this.insertCommand.apply(this,[a].concat(F.call(b))),this},b.prototype._setParent=function(a){var b,c,d,e,f;for(c=0,f=[],d=0,e=a.length;e>d;d++)b=a[d],"function"==typeof b&&(a[c]=b=new k(b)),b.setParent(this),f.push(++c);return f},b.prototype.notifyBreak=function(){},b.prototype.notifyReturn=function(){},b.prototype.getCommandByIndex=function(a){return this._commands[a]},b.prototype.getCommands=function(){return this._commands},b.prototype.getLength=function(){return this._commands.length},b.prototype._executeFunction=function(a){return this.notifyComplete()},b.prototype._interruptFunction=function(a){},b.prototype._destroyFunction=function(a){return this._commands=[]},b}(c),q("jpp.command").register("CommandList",d),x=function(a){function b(){var a;a=1<=arguments.length?F.call(arguments,0):[],this._completeHandler=I(this._completeHandler,this),b.__super__.constructor.apply(this,a),this._currentCommand=null,this._position=0,this._isPaused=!1,this._isCompleteOnPaused=!1}return G(b,a),b.prototype.addCommand=function(){var a;return a=1<=arguments.length?F.call(arguments,0):[],b.__super__.addCommand.apply(this,a),this},b.prototype.insertCommand=function(){var a;return a=1<=arguments.length?F.call(arguments,0):[],b.__super__.insertCommand.apply(this,[this._position+1].concat(F.call(a))),this},b.prototype._next=function(){return this._currentCommand=this.getCommandByIndex(this._position),this._currentCommand.addEventListener(i.COMPLETE,this._completeHandler),this._currentCommand.execute()},b.prototype._completeHandler=function(a){return this._currentCommand.removeEventListener(i.COMPLETE,this._completeHandler),this._currentCommand=null,++this._position>=this.getLength()?this.notifyComplete():this._next()},b.prototype.notifyBreak=function(){var a;return(null!=(a=this._currentCommand)?a.getState():void 0)===e.EXECUTING&&(this._currentCommand.removeEventListener(i.COMPLETE,this._completeHandler),this._currentCommand.interrupt()),this.notifyComplete()},b.prototype.notifyReturn=function(){var a,b;return(null!=(a=this._currentCommand)?a.getState():void 0)===e.EXECUTING&&(this._currentCommand.removeEventListener(i.COMPLETE,this._completeHandler),this._currentCommand.interrupt()),null!=(b=this.getParent())&&b.notifyReturn(),this.destroy()},b.prototype.getPosition=function(){return this._position},b.prototype._executeFunction=function(a){return this._position=0,this.getLength()>0?this._next():this.notifyComplete()},b.prototype._interruptFunction=function(a){return null!=this._currentCommand&&(this._currentCommand.removeEventListener(i.COMPLETE,this._completeHandler),this._currentCommand.interrupt()),this._currentCommand=null,this._position=0,b.__super__._interruptFunction.call(this,a)},b.prototype._destroyFunction=function(a){return null!=this._currentCommand&&(this._currentCommand.removeEventListener(i.COMPLETE,this._completeHandler),this._currentCommand.destroy()),this._currentCommand=null,this._position=0,this._isPaused=!1,this._isCompleteOnPaused=!1,b.__super__._destroyFunction.call(this,a)},b}(d),q("jpp.command").register("Serial",x),t=function(a){function b(){var a;a=1<=arguments.length?F.call(arguments,0):[],this._completeHandler=I(this._completeHandler,this),b.__super__.constructor.apply(this,a),this._completeCount=0}return G(b,a),b.prototype.addCommand=function(){var a;return a=1<=arguments.length?F.call(arguments,0):[],b.__super__.addCommand.apply(this,a),this},b.prototype.insertCommand=function(){var a;return a=1<=arguments.length?F.call(arguments,0):[],b.__super__.insertCommand.apply(this,[this.getLength()].concat(F.call(a))),this},b.prototype._completeHandler=function(a){return++this._completeCount>=this.getLength()?this.notifyComplete():void 0},b.prototype.notifyBreak=function(){var a,b,c,d;for(d=this.getCommands(),b=0,c=d.length;c>b;b++)a=d[b],a.getState()===e.EXECUTING&&(a.removeEventListener(i.COMPLETE,this._completeHandler),a.interrupt());return this.notifyComplete()},b.prototype.notifyReturn=function(){var a,b,c,d,f;for(d=this.getCommands(),b=0,c=d.length;c>b;b++)a=d[b],a.getState()===e.EXECUTING&&(a.removeEventListener(i.COMPLETE,this._completeHandler),a.interrupt());return null!=(f=this.getParent())&&f.notifyReturn(),this.destroy()},b.prototype.getCompleteCount=function(){return this._completeCount},b.prototype._executeFunction=function(a){var b,c,d,e,f;if(this.getLength()>0){for(this._completeCount=0,e=this.getCommands(),f=[],c=0,d=e.length;d>c;c++)b=e[c],b.addEventListener(i.COMPLETE,this._completeHandler),f.push(b.execute());return f}return this.notifyComplete()},b.prototype._interruptFunction=function(a){var c,d,e,f;for(f=this.getCommands(),d=0,e=f.length;e>d;d++)c=f[d],c.removeEventListener(i.COMPLETE,this._completeHandler),c.interrupt();return b.__super__._interruptFunction.call(this,a)},b.prototype._destroyFunction=function(a){var c,d,e,f;for(f=this.getCommands(),d=0,e=f.length;e>d;d++)c=f[d],c.removeEventListener(i.COMPLETE,this._completeHandler),c.destroy();return this._completeCount=0,b.__super__._destroyFunction.call(this,a)},b}(d),q("jpp.command").register("Parallel",t),b=function(a){function b(){b.__super__.constructor.call(this)}return G(b,a),b.prototype._executeFunction=function(a){var b;return null!=(b=this.getParent())&&b.notifyBreak(),this.notifyComplete()},b.prototype._interruptFunction=function(a){},b.prototype._destroyFunction=function(a){},b}(c),q("jpp.command").register("Break",b),v=function(a){function b(){b.__super__.constructor.call(this)}return G(b,a),b.prototype._executeFunction=function(a){var b;return null!=(b=this.getParent())&&b.notifyReturn(),this.notifyComplete()},b.prototype._interruptFunction=function(a){},b.prototype._destroyFunction=function(a){},b}(c),q("jpp.command").register("Return",v),k=function(a){function b(a,c,d,e){null==a&&(a=null),null==c&&(c=[]),null==d&&(d=null),null==e&&(e=null),this._completeHandler=I(this._completeHandler,this),b.__super__.constructor.call(this),this._func=a,this._args=c,this._dispatcher=d,this._eventType=e}return G(b,a),b.prototype._completeHandler=function(a){return this.notifyComplete()},b.prototype.getFunction=function(){return this._func},b.prototype.setFunction=function(a){return this._func=a,this},b.prototype.getArguments=function(){return this._args},b.prototype.setArguments=function(a){return this._args=a,this},b.prototype._executeFunction=function(a){return null!=this._dispatcher&&null!=this._eventType?(this._dispatcher.addEventListener(this._eventType,this._completeHandler),"function"==typeof this._func?this._func.apply(this,this._args):void 0):("function"==typeof this._func&&this._func.apply(this,this._args),this.notifyComplete())},b.prototype._interruptFunction=function(a){return null!=this._dispatcher&&null!=this._eventType?this._dispatcher.removeEventListener(this._eventType,this._completeHandler):void 0},b.prototype._destroyFunction=function(a){return this._func=null,this._args=null,this._dispatcher=null,this._eventType=null},b}(c),q("jpp.command").register("Func",k),y=function(a){function b(a){b.__super__.constructor.call(this),this._message=a}return G(b,a),b.prototype.getMessage=function(){return this._message},b.prototype.setMessage=function(a){return this._message=a,this},b.prototype._executeFunction=function(a){return console.log(this._message),this.notifyComplete()},b.prototype._interruptFunction=function(a){},b.prototype._destroyFunction=function(a){return this._message=null},b}(c),q("jpp.command").register("Trace",y),A=function(a){function b(a){null==a&&(a=1),this._completeHandler=I(this._completeHandler,this),b.__super__.constructor.call(this),this._time=a,this._timeoutId=-1}return G(b,a),b.prototype._cancel=function(){return-1!==this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=-1},b.prototype._completeHandler=function(a){return this.notifyComplete()},b.prototype.getTime=function(){return this._time},b.prototype.setTime=function(a){return this._time=a,this},b.prototype._executeFunction=function(a){return this._timeoutId=setTimeout(this._completeHandler,1e3*this._time)},b.prototype._interruptFunction=function(a){return this._cancel()},b.prototype._destroyFunction=function(a){return this._cancel()},b}(c),q("jpp.command").register("Wait",A),p=function(a){function b(a,c){null==a&&(a=null),null==c&&(c=null),this._handler=I(this._handler,this),b.__super__.constructor.call(this),this._type=a,this._dispatcher=c}return G(b,a),b.prototype._handler=function(a){return this.notifyComplete()},b.prototype.getType=function(){return this._type},b.prototype.setType=function(a){return this._type=a,this},b.prototype.getDispatcher=function(){return this._dispatcher},b.prototype.setDispatcher=function(a){return this._dispatcher=a,this},b.prototype._executeFunction=function(a){var b;return null!=this._type&&null!=(b=this._dispatcher)?b.addEventListener(this._type,this._handler):void 0},b.prototype._interruptFunction=function(a){var b;return null!=this._type&&null!=(b=this._dispatcher)?b.removeEventListener(this._type,this._handler):void 0},b.prototype._destroyFunction=function(a){var b;return null!=this._type&&null!=(b=this._dispatcher)&&b.removeEventListener(this._type,this._handler),this._type=null,this._dispatcher=null},b}(c),q("jpp.command").register("Listen",p),z=function(a){function b(a,c,d,e,f,h,i,j){null==d&&(d=null),null==e&&(e=1),null==f&&(f=g.Linear),null==h&&(h=null),null==i&&(i=null),null==j&&(j=null),this._intervalHandler=I(this._intervalHandler,this),b.__super__.constructor.call(this),this._target=a,this._to=c,this._from=d,this._time=e,this._easing=f,this._onStart=h,this._onUpdate=i,this._onComplete=j,this._intervalId=-1,this._tRatio=0,this._vRatio=0,this._startTime}return G(b,a),b.prototype._cancel=function(){return-1!==this._intervalId&&clearInterval(this._intervalId),this._intervalId=-1},b.prototype._apply=function(a){var b,c,d,e,f;this._tRatio=a,this._vRatio=this._easing(0,this._tRatio,0,1,1),c=this._to,d=[];for(b in c)f=c[b],e=this._from[b],d.push(this._target[b]=e+(f-e)*this._vRatio);return d},b.prototype._intervalHandler=function(a){var b;return b=((new Date).getTime()-this._startTime)/1e3,b<this._time?(this._apply(b/this._time),"function"==typeof this._onUpdate?this._onUpdate():void 0):(this._apply(1),"function"==typeof this._onUpdate&&this._onUpdate(),"function"==typeof this._onComplete&&this._onComplete(),this._cancel(),this.notifyComplete())},b.prototype.getTarget=function(){return this._target},b.prototype.setTarget=function(a){return this._target=a,this},b.prototype.getTo=function(){return this._to},b.prototype.setTo=function(a){return this._to=a,this},b.prototype.getFrom=function(){return this._from},b.prototype.setFrom=function(a){return this._from=a,this},b.prototype.getTime=function(){return this._time},b.prototype.setTime=function(a){return this._time=a,this},b.prototype.getEasing=function(){return this._easing},b.prototype.setEasing=function(a){return this._easing=a,this},b.prototype.getOnStart=function(){return this._onStart},b.prototype.setOnStart=function(a){return this._onStart=a,this},b.prototype.getOnUpdate=function(){return this._onUpdate},b.prototype.setOnUpdate=function(a){return this._onUpdate=a,this},b.prototype.getOnComplete=function(){return this._onComplete},b.prototype.setOnComplete=function(a){return this._onComplete=a,this},b.prototype.getRatio=function(){return this._vRatio},b.prototype.getTimeRatio=function(){return this._tRatio},b.prototype._executeFunction=function(a){var b,c,d,e;null==this._from&&(this._from={}),d=this._to;for(c in d)e=d[c],null==(b=this._from)[c]&&(b[c]=this._target[c]);return this._time>0?(this._intervalId=setInterval(this._intervalHandler,10),this._startTime=(new Date).getTime(),this._apply(0),"function"==typeof this._onStart?this._onStart():void 0):(this._apply(0),"function"==typeof this._onStart&&this._onStart(),this._apply(1),"function"==typeof this._onUpdate&&this._onUpdate(),"function"==typeof this._onComplete&&this._onComplete(),this.notifyComplete())},b.prototype._interruptFunction=function(a){return this._cancel()},b.prototype._destroyFunction=function(a){return this._cancel()},b}(c),q("jpp.command").register("Tween",z),l=function(a){function b(a){null==a&&(a=null),this._completeHandler=I(this._completeHandler,this),b.__super__.constructor.call(this),this._options=null!=a?a:{},this._status="",this._isSucceed=!1}return G(b,a),b.prototype._completeHandler=function(a,b){var c;return console.log(this),this._status=b,this._isSucceed="success"===b,"function"==typeof(c=this._options).complete&&c.complete(a,b),this.getState()===e.EXECUTING?this.notifyComplete():void 0},b.prototype.getOptions=function(){return this._options},b.prototype.setOptions=function(a){return this._options=a,this},b.prototype.getUrl=function(){return this._options.url},b.prototype.setUrl=function(a){return this._options.url=a,this},b.prototype.getMethod=function(){return this._options.type},b.prototype.setMethod=function(a){return this._options.type=a,this},b.prototype.getData=function(){return this._options.data},b.prototype.setData=function(a){return this._options.data=a,this},b.prototype.getDataType=function(){return this._options.dataType},b.prototype.setDataType=function(a){return this._options.dataType=a,this},b.prototype.getOnSuccess=function(){return this._options.success},b.prototype.setOnSuccess=function(a){return this._options.success=a,this},b.prototype.getOnError=function(){return this._options.error},b.prototype.setOnError=function(a){return this._options.error=a,this},b.prototype.getOnComplete=function(){return this._options.complete},b.prototype.setOnComplete=function(a){return this._options.complete=a,this},b.prototype.getStatus=function(){return this._status},b.prototype.getIsSucceed=function(){return this._isSucceed},b.prototype._executeFunction=function(a){var b,c,d,e;c={},d=this._options;for(b in d)e=d[b],c[b]=e;return c.complete=this._completeHandler,jQuery.ajax(c)},b.prototype._interruptFunction=function(a){return this},b.prototype._destroyFunction=function(a){return this._options=null,this._status="",this._isSucceed=!1},b}(c),q("jpp.command").register("JqueryAjax",l),n=function(a){function b(a,c,d,e,f){null==a&&(a=null),null==c&&(c=null),null==d&&(d=null),null==e&&(e=null),null==f&&(f=null),b.__super__.constructor.call(this,{type:"get",url:a,data:c,success:d,error:e,dataType:f})}return G(b,a),b}(l),q("jpp.command").register("JqueryGet",n),o=function(a){function b(a,c,d,e,f){null==a&&(a=null),null==c&&(c=null),null==d&&(d=null),null==e&&(e=null),null==f&&(f=null),b.__super__.constructor.call(this,{type:"post",url:a,data:c,success:d,error:e,dataType:f})}return G(b,a),b}(l),q("jpp.command").register("JqueryPost",o),m=function(a){function b(a,c,d){null==d&&(d=null),this._completeHandler=I(this._completeHandler,this),b.__super__.constructor.call(this),this._target=a,this._params=c,this._options=d,this._isTweening=!1}return G(b,a),b.prototype._completeHandler=function(){var a;return a=1<=arguments.length?F.call(arguments,0):[],this._isTweening=!1,null!==this._originalComplete&&this._originalComplete.apply(this._target,a),this.notifyComplete()},b.prototype._cancel=function(){return this._isTweening?(this._isTweening=!1,this._target.stop()):void 0},b.prototype.getTarget=function(){return this._target},b.prototype.setTarget=function(a){return this._target=a,this},b.prototype.getParams=function(){return this._params},b.prototype.setParams=function(a){return this._params=a,this},b.prototype.getOptions=function(){return this._options},b.prototype.setOptions=function(a){return this._options=a,this},b.prototype._executeFunction=function(a){var b,c;if(!this._isTweening)return this._isTweening=!0,this._originalComplete=null!=(c=this._options.complete)?c:null,b=s.clone(this._options),b.complete=this._completeHandler,this._target.animate(this._params,b)},b.prototype._interruptFunction=function(a){return this._cancel()},b.prototype._destroyFunction=function(a){return this._cancel()},b}(c),q("jpp.command").register("JqueryAnimate",m),f=function(a){function b(a){this._completeHandler=I(this._completeHandler,this),b.__super__.constructor.call(this),this._tweenProvider=a}return G(b,a),b.prototype._completeHandler=function(a){return this._cancel(),this.notifyComplete()},b.prototype._cancel=function(){return this._tween.pause(this._tween)},b.prototype.getTween=function(){return this._tween},b.prototype.setTween=function(a){return this._tween=a,this},b.prototype._executeFunction=function(a){return this._tween=this._tweenProvider(),this._tween.loop=!1,this._tween.call(this._completeHandler),this._tween.play(this._tween)},b.prototype._interruptFunction=function(a){return this._cancel()},b.prototype._destroyFunction=function(a){return this._cancel()},b}(c),q("jpp.command").register("DoTweenJS",f),u=function(a){function b(a){this._completeHandler=I(this._completeHandler,this),b.__super__.constructor.call(this),this._url=a,this._script=null,this._status=0}return G(b,a),b.prototype._completeHandler=function(a){return 1===this._status?this._script.readyState&&"loaded"!==this._script.readyState&&"complete"!==this._script.readyState?void 0:(this._status=2,this._script.onload=this._script.onreadystatechange=null,this._script.parentNode.removeChild(this._script),this.notifyComplete()):void 0},b.prototype._cancel=function(){return 1===this._status?(this._status=0,null!==this._script?this._script.parentNode.removeChild(this._script):void 0):void 0},b.prototype.getUrl=function(){return this._url},b.prototype.setUrl=function(a){return this._url=a,this},b.prototype._executeFunction=function(a){var b;return this._status=1,this._script=document.createElement("script"),this._script.src=this._url,this._script.type="text/javascript",this._script.language="javascript",this._script.onload=this._completeHandler,this._script.onreadystatechange=this._completeHandler,b=document.getElementsByTagName("head")[0],b.appendChild(this._script)},b.prototype._interruptFunction=function(a){return this._cancel()},b.prototype._destroyFunction=function(a){return this._cancel(),this._url=null,this._script=null,this._status=0},b}(c),q("jpp.command").register("RequireScript",u),D=window.JPP={},q("jpp.util").scope(D)["import"]("*"),q("jpp.event").scope(D)["import"]("*"),q("jpp.command").scope(D)["import"]("*")}).call(this);